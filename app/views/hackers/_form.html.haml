.container
  .application-status
    %span.fore Application status:
    %span.decision
      = current_user.status
    - if current_user.accepted? && current_user.confirmed?
      / fill in
    - elsif current_user.accepted? && !current_user.application_completed?
      / fill in
    - elsif current_user.accepted? && !current_user.confirmed
      / fill in
    - elsif current_user.standby?
    - elsif current_user.declined?
      / fill in
    - elsif current_user.rejected?
      / fill in
    - else
      Error
  = render 'shared/flash.html.haml'

  .application
    .form
      = form_for @hacker do |f|
        .field
          .label.required
            = f.label 'Your name*', {class: 'required'}
          .user-input
            = f.text_field :first_name, placeholder: "First Name"
            = f.text_field :last_name, placeholder: "Last Name"
        .field
          .label
            = f.label 'School*', {class: 'required'}
          .user-input
            = f.text_field :school_id, { id: 'schools', value: @school, readonly: true, style: 'opacity:0.5;'}
        = f.fields_for :application, @hacker.application do |application_fields|
          .field
            .label
              Gender
            .user-input
              = application_fields.collection_select :gender, @genders, :to_s, :to_s, {include_blank: "Please select"}, class: 'gender'
          .field
            .label
              Race
            .user-input
              = application_fields.collection_select :race, @races, :to_s, :to_s, {include_blank: "Please select"}, class: 'gender'
          .field
            .label
              Ethnicity
            .user-input
              = application_fields.collection_select :ethnicity, @ethnicities, :to_s, :to_s, {include_blank: "Please select"}, class: 'gender'
          .field
            .label
              GitHub
            .user-input
              = application_fields.text_field :github, placeholder: 'https://github.com/shanedewael'
          .field
            .label
              Major
            .user-input
              = application_fields.text_field :major, placeholder: 'Computer Science'
          .field
            .label
              Degree
            .user-input
              = application_fields.text_field :degree, placeholder: 'Bachelor of Science'
          .field
            .label
              Grad month/date
            .user-input
              = application_fields.text_field :grad_date, placeholder: '05/2017'
          .field.job-interest
            .label
              Job interest
            .user-input
              = application_fields.collection_select :job_interest, @job_interests, :to_s, :to_s, {include_blank: "Please select"}, class: 'gender'
          .field.job-dates
            .label
              Availability to start working
            .user-input
              = application_fields.collection_select :job_date, @job_dates, :to_s, :to_s, {include_blank: "Please select"}, class: 'gender'
          .field
            .label.required
              Upload Resume*
            .user-input.filepicker
              #info{:style => "display:none;"}
                Success.
                = link_to "upload different file", "#", :id => "refresh"
              = f.s3_file_field :s3, :class => 'js-s3_file_field', :key => "resume/${timestamp}-${filename}"
              = application_fields.hidden_field :resume, id: "hidden_resume"
          .field
            .label.required
              T-shirt Size*
            .user-input
              = application_fields.collection_select :tshirt_size, @shirts, :to_s, :to_s, {include_blank: "Please select"}, class: 'gender'
          .field
            .label.required
              Cell Phone*
            .user-input
              = application_fields.text_field :cell_phone, placeholder: '(877)-CASH-NOW'
              .sub-field
                .sub-user-input
                  = application_fields.check_box :can_text
                .sub-label Text Alerts?
          .field
            .label
              Dietary Restrictions
            .user-input
              = application_fields.text_area :dietary_restrictions, rows: '4', placeholder: 'Please enter any dietary restrictions, leave blank if none.'
          .field
            .label.required
              What is your favorite thing about hackathons?
            .user-input
              = application_fields.text_area :essay1, rows: '4', placeholder: '200 words max, please.'
          .field
            .label.required
              Tell us the coolest things you have done in the last 12 months
            .user-input
              = application_fields.text_area :essay1, rows: '4', placeholder: '200 words max, please.'
                
        .submit
          = f.submit 'Save', id: 'save', class: '', style: 'cursor:pointer;'
